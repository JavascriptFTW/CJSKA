(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var authentication = require("../helpers/authentication.js");

var createLoginForm = function createLoginForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "loginFailed").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control")));
};

var createSignupForm = function createSignupForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "signupError").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "email").text("Email Address")).append($("<input>").attr("type", "email").attr("name", "email").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "confpass").text("Confirm Password")).append($("<input>").attr("type", "password").attr("name", "confpass").addClass("form-control")));
};

module.exports = function () {
    // Login Modal
    $("[data-area=main]").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "loginModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign In"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createLoginForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-primary").text("Submit").on("click", function () {
        authentication.login();
    })))
    // End Modal Footer
    ))));

    // Sign up Modal
    $("[data-area=main]").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "signupModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign Up"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createSignupForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-primary").text("Sign Up").on("click", function () {
        authentication.signup();
    })))
    // End Modal Footer
    ))));
};

},{"../helpers/authentication.js":4}],2:[function(require,module,exports){
"use strict";

module.exports = {
    authModals: require("./authModals.js"),
    footer: require("./footer.js")
};

},{"./authModals.js":1,"./footer.js":3}],3:[function(require,module,exports){
"use strict";

module.exports = function () {
    $("body").append($("<footer>").append($("<div>").addClass("container text-center").append($("<p>").addClass("text-muted").text("Made by ").append($("<a>").attr("href", "https://github.com/sparkstudios/CJSKA/graphs/contributors").text("all these great folks")))));
};

},{}],4:[function(require,module,exports){
"use strict";

module.exports = {
    signup: function signup() {
        $("#signupError").addClass("hidden");

        var _user = $("#signupModal [name=username]").val();
        var _mail = $("#signupModal [name=email]").val();
        var _pass = $("#signupModal [name=password]").val();
        var _conf = $("#signupModal [name=confpass]").val();

        if (_pass !== _conf) {
            $("#signupError").removeClass("hidden");
        } else {
            var newUser = new Parse.User();

            newUser.set("username", _user);
            newUser.set("password", _conf);
            newUser.set("email", _mail);

            newUser.signUp(null, {
                success: function success() {
                    Parse.User.logIn(_user, _conf, {
                        success: function success() {
                            window.location.reload();
                        }
                    });
                },
                error: function error(data, _error) {
                    $("#signupError").removeClass("hidden");

                    console.error(_error);
                }
            });
        }
    },
    login: function login() {
        var _name = $("#loginModal [name=username]").val();
        var _pass = $("#loginModal [name=password]").val();

        Parse.User.logIn(_name, _pass, {
            success: function success() {
                window.location.reload();
            },
            error: function error(data, _error2) {
                $("#loginFailed").removeClass("hidden");

                console.error(_error2);
            }
        });
    }
};

},{}],5:[function(require,module,exports){
"use strict";

module.exports = (function (deps) {
    var lostDeps = [];

    for (var depInd = 0; depInd < deps.length; depInd++) {
        if (!window.hasOwnProperty(deps[depInd])) {
            lostDeps.push(deps[depInd]);
        }
    }

    if (lostDeps.length > 0) {
        console.error("Unable to find all required dependencies! Exiting.");
        console.log("Dependencies not found:", lostDeps.join(","));

        return {};
    }

    return {
        setupPage: require("./setupPage.js")
    };
})(["jQuery", "Parse"]);

},{"./setupPage.js":6}],6:[function(require,module,exports){
"use strict";

var components = require("../components/components.js");

module.exports = function () {
    // NOTE: This **has** to go at the very top of this function,
    //  otherwise we can't use the Parse JS SDK.
    Parse.initialize("F4jHkOZFPQTGPZ23D1CqaNxmbLqoAUAxBzcnlWQn", "Zt177eOpCUI12dvHbBaIAaf8MZdXqkjsZYlagRul");

    components.authModals();
    components.footer();
};

},{"../components/components.js":2}],7:[function(require,module,exports){
"use strict";

var helpers = require("./helpers/helpers.js");

helpers.setupPage();

if (Parse.User.current() !== null) {
    // TODO (Gigabyte Giant): Redirect to logged in page.
    window.location.href = "client/";
}

$("[name=signInBtn]").on("click", function () {
    $("#loginModal").modal();
});

$("[name=signUpBtn]").on("click", function () {
    $("#signupModal").modal();
});

},{"./helpers/helpers.js":5}]},{},[7])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2F1dGhNb2RhbHMuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2NvbXBvbmVudHMuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2Zvb3Rlci5qcyIsIi9Vc2Vycy9CcnluZGVuL3NwYXJrL2Nqc2thL3NyYy9zY3JpcHRzL2hlbHBlcnMvYXV0aGVudGljYXRpb24uanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9oZWxwZXJzL2hlbHBlcnMuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9oZWxwZXJzL3NldHVwUGFnZS5qcyIsIi9Vc2Vycy9CcnluZGVuL3NwYXJrL2Nqc2thL3NyYy9zY3JpcHRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDOztBQUU3RCxJQUFJLGVBQWUsR0FBRyxTQUFsQixlQUFlLEdBQWM7QUFDN0IsV0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQ2hCLE1BQU0sQ0FDSCxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLDJCQUEyQixDQUFDLENBQzNDLElBQUksQ0FBQyxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQ3pCLElBQUksQ0FBQyxnREFBZ0QsQ0FBQyxDQUM5RCxDQUNBLE1BQU0sQ0FDSCxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUNoQyxNQUFNLENBQ0gsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFD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QVMsQ0FBQztDQUNwQzs7QUFFRCxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQU07QUFDcEMsS0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0NBQzVCLENBQUMsQ0FBQzs7QUFFSCxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFlBQU07QUFDcEMsS0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0NBQzdCLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgYXV0aGVudGljYXRpb24gPSByZXF1aXJlKFwiLi4vaGVscGVycy9hdXRoZW50aWNhdGlvbi5qc1wiKTtcblxudmFyIGNyZWF0ZUxvZ2luRm9ybSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkKFwiPGRpdj5cIilcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJhbGVydCBhbGVydC1kYW5nZXIgaGlkZGVuXCIpXG4gICAgICAgICAgICAuYXR0cihcImlkXCIsIFwibG9naW5GYWlsZWRcIilcbiAgICAgICAgICAgIC50ZXh0KFwiQW4gZXJyb3Igb2NjdXJyZWQuIFRyeSBhZ2FpbiBpbiBhIGZldyBtaW51dGVzLlwiKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwidXNlcm5hbWVcIikudGV4dChcIlVzZXJuYW1lXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwidGV4dFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcInVzZXJuYW1lXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcInBhc3N3b3JkXCIpLnRleHQoXCJQYXNzd29yZFwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgICk7XG59O1xuXG52YXIgY3JlYXRlU2lnbnVwRm9ybSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkKFwiPGRpdj5cIilcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJhbGVydCBhbGVydC1kYW5nZXIgaGlkZGVuXCIpXG4gICAgICAgICAgICAuYXR0cihcImlkXCIsIFwic2lnbnVwRXJyb3JcIilcbiAgICAgICAgICAgIC50ZXh0KFwiQW4gZXJyb3Igb2NjdXJyZWQuIFRyeSBhZ2FpbiBpbiBhIGZldyBtaW51dGVzLlwiKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwidXNlcm5hbWVcIikudGV4dChcIlVzZXJuYW1lXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwidGV4dFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcInVzZXJuYW1lXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcImVtYWlsXCIpLnRleHQoXCJFbWFpbCBBZGRyZXNzXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJwYXNzd29yZFwiKS50ZXh0KFwiUGFzc3dvcmRcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcImNvbmZwYXNzXCIpLnRleHQoXCJDb25maXJtIFBhc3N3b3JkXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJjb25mcGFzc1wiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gTG9naW4gTW9kYWxcbiAgICAkKFwiW2RhdGEtYXJlYT1tYWluXVwiKS5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsIGZhZGVcIikuYXR0cihcInJvbGVcIiwgXCJkaWFsb2dcIilcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcImxvZ2luTW9kYWxcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWRpYWxvZ1wiKVxuICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1jb250ZW50XCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgSGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWhlYWRlclwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpLmFkZENsYXNzKFwiY2xvc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImRhdGEtZGlzbWlzc1wiLCBcIm1vZGFsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJhcmlhLWxhYmVsXCIsIFwiQ2xvc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPHNwYW4+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmh0bWwoXCImdGltZXM7XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGg0PlwiKS5hZGRDbGFzcyhcIm1vZGFsLXRpdGxlXCIpLnRleHQoXCJTaWduIEluXCIpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEhlYWRlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBCb2R5XG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWJvZHlcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxvZ2luRm9ybSgpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEJvZHlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgRm9vdGVyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWZvb3RlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJidG4gYnRuLXByaW1hcnlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiU3VibWl0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb24ubG9naW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgRm9vdGVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcblxuICAgIC8vIFNpZ24gdXAgTW9kYWxcbiAgICAkKFwiW2RhdGEtYXJlYT1tYWluXVwiKS5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsIGZhZGVcIikuYXR0cihcInJvbGVcIiwgXCJkaWFsb2dcIilcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcInNpZ251cE1vZGFsXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1kaWFsb2dcIilcbiAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtY29udGVudFwiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEhlYWRlclxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1oZWFkZXJcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKS5hZGRDbGFzcyhcImNsb3NlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkYXRhLWRpc21pc3NcIiwgXCJtb2RhbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYXJpYS1sYWJlbFwiLCBcIkNsb3NlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxzcGFuPlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKFwiJnRpbWVzO1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxoND5cIikuYWRkQ2xhc3MoXCJtb2RhbC10aXRsZVwiKS50ZXh0KFwiU2lnbiBVcFwiKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1ib2R5XCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTaWdudXBGb3JtKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBGb290ZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZm9vdGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImJ0biBidG4tcHJpbWFyeVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoXCJTaWduIFVwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb24uc2lnbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEZvb3RlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGF1dGhNb2RhbHM6IHJlcXVpcmUoXCIuL2F1dGhNb2RhbHMuanNcIiksXG4gICAgZm9vdGVyOiByZXF1aXJlKFwiLi9mb290ZXIuanNcIilcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAkKFwiYm9keVwiKS5hcHBlbmQoXG4gICAgICAgICQoXCI8Zm9vdGVyPlwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiY29udGFpbmVyIHRleHQtY2VudGVyXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoXCI8cD5cIikuYWRkQ2xhc3MoXCJ0ZXh0LW11dGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiTWFkZSBieSBcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8YT5cIikuYXR0cihcImhyZWZcIiwgXCJodHRwczovL2dpdGh1Yi5jb20vc3BhcmtzdHVkaW9zL0NKU0tBL2dyYXBocy9jb250cmlidXRvcnNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChcImFsbCB0aGVzZSBncmVhdCBmb2xrc1wiKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICApO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWdudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI3NpZ251cEVycm9yXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuXG4gICAgICAgIGxldCBfdXNlciA9ICQoXCIjc2lnbnVwTW9kYWwgW25hbWU9dXNlcm5hbWVdXCIpLnZhbCgpO1xuICAgICAgICBsZXQgX21haWwgPSAkKFwiI3NpZ251cE1vZGFsIFtuYW1lPWVtYWlsXVwiKSAgIC52YWwoKTtcbiAgICAgICAgbGV0IF9wYXNzID0gJChcIiNzaWdudXBNb2RhbCBbbmFtZT1wYXNzd29yZF1cIikudmFsKCk7XG4gICAgICAgIGxldCBfY29uZiA9ICQoXCIjc2lnbnVwTW9kYWwgW25hbWU9Y29uZnBhc3NdXCIpLnZhbCgpO1xuXG4gICAgICAgIGlmIChfcGFzcyAhPT0gX2NvbmYpIHtcbiAgICAgICAgICAgICQoXCIjc2lnbnVwRXJyb3JcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV3VXNlciA9IG5ldyBQYXJzZS5Vc2VyKCk7XG5cbiAgICAgICAgICAgIG5ld1VzZXIuc2V0KFwidXNlcm5hbWVcIiwgX3VzZXIpO1xuICAgICAgICAgICAgbmV3VXNlci5zZXQoXCJwYXNzd29yZFwiLCBfY29uZik7XG4gICAgICAgICAgICBuZXdVc2VyLnNldChcImVtYWlsXCIgICAsIF9tYWlsKTtcblxuICAgICAgICAgICAgbmV3VXNlci5zaWduVXAobnVsbCwge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZS5Vc2VyLmxvZ0luKF91c2VyLCBfY29uZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3NpZ251cEVycm9yXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBfbmFtZSA9ICQoXCIjbG9naW5Nb2RhbCBbbmFtZT11c2VybmFtZV1cIikudmFsKCk7XG4gICAgICAgIGxldCBfcGFzcyA9ICQoXCIjbG9naW5Nb2RhbCBbbmFtZT1wYXNzd29yZF1cIikudmFsKCk7XG5cbiAgICAgICAgUGFyc2UuVXNlci5sb2dJbihfbmFtZSwgX3Bhc3MsIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkKFwiI2xvZ2luRmFpbGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59OyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKGRlcHMpIHtcbiAgICB2YXIgbG9zdERlcHMgPSBbXTtcblxuICAgIGZvciAobGV0IGRlcEluZCA9IDA7IGRlcEluZCA8IGRlcHMubGVuZ3RoOyBkZXBJbmQrKykge1xuICAgICAgICBpZiAoIXdpbmRvdy5oYXNPd25Qcm9wZXJ0eShkZXBzW2RlcEluZF0pKSB7XG4gICAgICAgICAgICBsb3N0RGVwcy5wdXNoKGRlcHNbZGVwSW5kXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobG9zdERlcHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGZpbmQgYWxsIHJlcXVpcmVkIGRlcGVuZGVuY2llcyEgRXhpdGluZy5cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGVwZW5kZW5jaWVzIG5vdCBmb3VuZDpcIiwgbG9zdERlcHMuam9pbihcIixcIikpO1xuXG4gICAgICAgIHJldHVybiB7IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0dXBQYWdlOiByZXF1aXJlKFwiLi9zZXR1cFBhZ2UuanNcIilcbiAgICB9O1xufSkoW1wialF1ZXJ5XCIsIFwiUGFyc2VcIl0pOyIsInZhciBjb21wb25lbnRzID0gcmVxdWlyZShcIi4uL2NvbXBvbmVudHMvY29tcG9uZW50cy5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBOT1RFOiBUaGlzICoqaGFzKiogdG8gZ28gYXQgdGhlIHZlcnkgdG9wIG9mIHRoaXMgZnVuY3Rpb24sXG4gICAgLy8gIG90aGVyd2lzZSB3ZSBjYW4ndCB1c2UgdGhlIFBhcnNlIEpTIFNESy5cbiAgICBQYXJzZS5pbml0aWFsaXplKFxuICAgICAgICBcIkY0akhrT1pGUFFUR1BaMjNEMUNxYU54bWJMcW9BVUF4QnpjbmxXUW5cIixcbiAgICAgICAgXCJadDE3N2VPcENVSTEyZHZIYkJhSUFhZjhNWmRYcWtqc1pZbGFnUnVsXCJcbiAgICApO1xuXG4gICAgY29tcG9uZW50cy5hdXRoTW9kYWxzKCk7XG4gICAgY29tcG9uZW50cy5mb290ZXIoKTtcbn07IiwidmFyIGhlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzL2hlbHBlcnMuanNcIik7XG5cbmhlbHBlcnMuc2V0dXBQYWdlKCk7XG5cbmlmIChQYXJzZS5Vc2VyLmN1cnJlbnQoKSAhPT0gbnVsbCkge1xuICAgIC8vIFRPRE8gKEdpZ2FieXRlIEdpYW50KTogUmVkaXJlY3QgdG8gbG9nZ2VkIGluIHBhZ2UuXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImNsaWVudC9cIjtcbn1cblxuJChcIltuYW1lPXNpZ25JbkJ0bl1cIikub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgJChcIiNsb2dpbk1vZGFsXCIpLm1vZGFsKCk7XG59KTtcblxuJChcIltuYW1lPXNpZ25VcEJ0bl1cIikub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgJChcIiNzaWdudXBNb2RhbFwiKS5tb2RhbCgpO1xufSk7Il19
