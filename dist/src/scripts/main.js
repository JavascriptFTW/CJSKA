(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

module.exports = {
    signup: function signup() {
        $("#signupError").addClass("hidden");

        var _user = $("#signupModal [name=username]").val();
        var _mail = $("#signupModal [name=email]").val();
        var _pass = $("#signupModal [name=password]").val();
        var _conf = $("#signupModal [name=confpass]").val();

        if (_pass !== _conf) {
            $("#signupError").removeClass("hidden");
        } else {
            var newUser = new Parse.User();

            newUser.set("username", _user);
            newUser.set("password", _conf);
            newUser.set("email", _mail);

            newUser.signUp(null, {
                success: function success() {
                    Parse.User.logIn(_user, _conf, {
                        success: function success() {
                            window.location.reload();
                        }
                    });
                },
                error: function error(data, _error) {
                    $("#signupError").removeClass("hidden");

                    console.error(_error);
                }
            });
        }
    },
    login: function login() {
        var _name = $("#loginModal [name=username]").val();
        var _pass = $("#loginModal [name=password]").val();

        console.log(_name, _pass);

        Parse.User.logIn(_name, _pass, {
            success: function success() {
                window.location.reload();
            },
            error: function error(data, _error2) {
                $("#loginFailed").removeClass("hidden");

                console.error(_error2);
            }
        });
    }
};

},{}],2:[function(require,module,exports){
"use strict";

module.exports = (function (deps) {
    var lostDeps = [];

    for (var depInd = 0; depInd < deps.length; depInd++) {
        if (!window.hasOwnProperty(deps[depInd])) {
            lostDeps.push(deps[depInd]);
        }
    }

    if (lostDeps.length > 0) {
        console.error("Unable to find all required dependencies! Exiting.");
        console.log("Dependencies not found:", lostDeps.join(","));

        return {};
    }

    return {
        setupPage: require("./setupPage.js")
    };
})(["jQuery", "Parse"]);

},{"./setupPage.js":3}],3:[function(require,module,exports){
"use strict";

var authentication = require("./authentication.js");

var createLoginForm = function createLoginForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "loginFailed").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control")));
};

var createSignupForm = function createSignupForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "signupError").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "email").text("Email Address")).append($("<input>").attr("type", "email").attr("name", "email").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "confpass").text("Confirm Password")).append($("<input>").attr("type", "password").attr("name", "confpass").addClass("form-control")));
};

var setupModals = function setupModals() {
    // Login Modal
    $("body").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "loginModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Log In"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createLoginForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-success").text("Submit").on("click", function () {
        authentication.login();
    })))
    // End Modal Footer
    ))));

    // Sign up Modal
    $("body").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "signupModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign Up"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createSignupForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-success").text("Sign Up").on("click", function () {
        authentication.signup();
    })))
    // End Modal Footer
    ))));
};

module.exports = function () {
    // NOTE: This **has** to go at the very top of this function,
    //  otherwise we can't use the Parse JS SDK.
    Parse.initialize("F4jHkOZFPQTGPZ23D1CqaNxmbLqoAUAxBzcnlWQn", "Zt177eOpCUI12dvHbBaIAaf8MZdXqkjsZYlagRul");

    // Setup any modals that we might need on the page
    setupModals();

    // Fetch the currently logged in user, and store them in a variable
    //  called "currentUser".
    var currentUser = Parse.User.current();

    // If the user isn't logged in, we'll display some buttons that allow
    //  them to sign up or login.
    //
    // If the user is logged in, then we'll display a welcome message.
    //
    if (currentUser === null) {
        $("body").append($("<button>").text("Sign in").on("click", function () {
            $("#loginModal").modal();
        })).append($("<button>").text("Sign up").on("click", function () {
            $("#signupModal").modal();
        }));
    } else {
        var query = new Parse.Query(Parse.User).equalTo("objectId", currentUser.id).limit(1);
        query.find({
            success: function success(data) {
                var username = data[0].attributes.username;

                $(".container-fluid").append($("<h3>").text("Welcome, " + username)).append($("<button>").addClass("btn btn-danger").text("Logout").on("click", function () {
                    Parse.User.logOut();
                    window.location.reload();
                }));
            }
        });
    }
};

},{"./authentication.js":1}],4:[function(require,module,exports){
"use strict";

var helpers = require("./helpers/helpers.js");

$(function () {
    helpers.setupPage();
});

},{"./helpers/helpers.js":2}]},{},[4])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9oZWxwZXJzL2F1dGhlbnRpY2F0aW9uLmpzIiwiL1VzZXJzL0JyeW5kZW4vc3BhcmsvY2pza2Evc3JjL3NjcmlwdHMvaGVscGVycy9oZWxwZXJzLmpzIiwiL1VzZXJzL0JyeW5kZW4vc3BhcmsvY2pza2Evc3JjL3NjcmlwdHMvaGVscGVycy9zZXR1cFBhZ2UuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2IsVUFBTSxFQUFFLGtCQUFXO0FBQ2YsU0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFckMsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDcEQsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDJCQUEyQixDQUFDLENBQUksR0FBRyxFQUFFLENBQUM7QUFDcEQsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDcEQsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7O0FBRXBELFlBQUksS0FBSyxLQUFLLEtBQUssRUFBRTtBQUNqQixhQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzNDLE1BQU07QUFDSCxnQkFBSSxPQUFPLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7O0FBRS9CLG1CQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxL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QUMsT0FBTyxFQUFFLFlBQU07QUFDZix5QkFBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNwQiwwQkFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDNUIsQ0FBQyxDQUNULENBQUM7YUFDTDtTQUNKLENBQUMsQ0FBQztLQUNOO0NBQ0osQ0FBQzs7Ozs7QUNwUUYsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7O0FBRTlDLENBQUMsQ0FBQyxZQUFXO0FBQ1QsV0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDO0NBQ3ZCLENBQUMsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBzaWdudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiI3NpZ251cEVycm9yXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuXG4gICAgICAgIGxldCBfdXNlciA9ICQoXCIjc2lnbnVwTW9kYWwgW25hbWU9dXNlcm5hbWVdXCIpLnZhbCgpO1xuICAgICAgICBsZXQgX21haWwgPSAkKFwiI3NpZ251cE1vZGFsIFtuYW1lPWVtYWlsXVwiKSAgIC52YWwoKTtcbiAgICAgICAgbGV0IF9wYXNzID0gJChcIiNzaWdudXBNb2RhbCBbbmFtZT1wYXNzd29yZF1cIikudmFsKCk7XG4gICAgICAgIGxldCBfY29uZiA9ICQoXCIjc2lnbnVwTW9kYWwgW25hbWU9Y29uZnBhc3NdXCIpLnZhbCgpO1xuXG4gICAgICAgIGlmIChfcGFzcyAhPT0gX2NvbmYpIHtcbiAgICAgICAgICAgICQoXCIjc2lnbnVwRXJyb3JcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV3VXNlciA9IG5ldyBQYXJzZS5Vc2VyKCk7XG5cbiAgICAgICAgICAgIG5ld1VzZXIuc2V0KFwidXNlcm5hbWVcIiwgX3VzZXIpO1xuICAgICAgICAgICAgbmV3VXNlci5zZXQoXCJwYXNzd29yZFwiLCBfY29uZik7XG4gICAgICAgICAgICBuZXdVc2VyLnNldChcImVtYWlsXCIgICAsIF9tYWlsKTtcblxuICAgICAgICAgICAgbmV3VXNlci5zaWduVXAobnVsbCwge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZS5Vc2VyLmxvZ0luKF91c2VyLCBfY29uZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3NpZ251cEVycm9yXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBfbmFtZSA9ICQoXCIjbG9naW5Nb2RhbCBbbmFtZT11c2VybmFtZV1cIikudmFsKCk7XG4gICAgICAgIGxldCBfcGFzcyA9ICQoXCIjbG9naW5Nb2RhbCBbbmFtZT1wYXNzd29yZF1cIikudmFsKCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coX25hbWUsIF9wYXNzKTtcblxuICAgICAgICBQYXJzZS5Vc2VyLmxvZ0luKF9uYW1lLCBfcGFzcywge1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICQoXCIjbG9naW5GYWlsZWRcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oZGVwcykge1xuICAgIHZhciBsb3N0RGVwcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgZGVwSW5kID0gMDsgZGVwSW5kIDwgZGVwcy5sZW5ndGg7IGRlcEluZCsrKSB7XG4gICAgICAgIGlmICghd2luZG93Lmhhc093blByb3BlcnR5KGRlcHNbZGVwSW5kXSkpIHtcbiAgICAgICAgICAgIGxvc3REZXBzLnB1c2goZGVwc1tkZXBJbmRdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsb3N0RGVwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZmluZCBhbGwgcmVxdWlyZWQgZGVwZW5kZW5jaWVzISBFeGl0aW5nLlwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEZXBlbmRlbmNpZXMgbm90IGZvdW5kOlwiLCBsb3N0RGVwcy5qb2luKFwiLFwiKSk7XG5cbiAgICAgICAgcmV0dXJuIHsgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXR1cFBhZ2U6IHJlcXVpcmUoXCIuL3NldHVwUGFnZS5qc1wiKVxuICAgIH07XG59KShbXCJqUXVlcnlcIiwgXCJQYXJzZVwiXSk7IiwidmFyIGF1dGhlbnRpY2F0aW9uID0gcmVxdWlyZShcIi4vYXV0aGVudGljYXRpb24uanNcIik7XG5cbnZhciBjcmVhdGVMb2dpbkZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJChcIjxkaXY+XCIpXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGhpZGRlblwiKVxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcImxvZ2luRmFpbGVkXCIpXG4gICAgICAgICAgICAudGV4dChcIkFuIGVycm9yIG9jY3VycmVkLiBUcnkgYWdhaW4gaW4gYSBmZXcgbWludXRlcy5cIilcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcInVzZXJuYW1lXCIpLnRleHQoXCJVc2VybmFtZVwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJ1c2VybmFtZVwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJwYXNzd29yZFwiKS50ZXh0KFwiUGFzc3dvcmRcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApO1xufTtcblxudmFyIGNyZWF0ZVNpZ251cEZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJChcIjxkaXY+XCIpXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGhpZGRlblwiKVxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcInNpZ251cEVycm9yXCIpXG4gICAgICAgICAgICAudGV4dChcIkFuIGVycm9yIG9jY3VycmVkLiBUcnkgYWdhaW4gaW4gYSBmZXcgbWludXRlcy5cIilcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcInVzZXJuYW1lXCIpLnRleHQoXCJVc2VybmFtZVwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJ1c2VybmFtZVwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJlbWFpbFwiKS50ZXh0KFwiRW1haWwgQWRkcmVzc1wiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwiZW1haWxcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwicGFzc3dvcmRcIikudGV4dChcIlBhc3N3b3JkXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJjb25mcGFzc1wiKS50ZXh0KFwiQ29uZmlybSBQYXNzd29yZFwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwiY29uZnBhc3NcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgICk7XG59O1xuXG52YXIgc2V0dXBNb2RhbHMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBMb2dpbiBNb2RhbFxuICAgICQoXCJib2R5XCIpLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwgZmFkZVwiKS5hdHRyKFwicm9sZVwiLCBcImRpYWxvZ1wiKVxuICAgICAgICAuYXR0cihcImlkXCIsIFwibG9naW5Nb2RhbFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZGlhbG9nXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtaGVhZGVyXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIikuYWRkQ2xhc3MoXCJjbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZGF0YS1kaXNtaXNzXCIsIFwibW9kYWxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFyaWEtbGFiZWxcIiwgXCJDbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIiZ0aW1lcztcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8aDQ+XCIpLmFkZENsYXNzKFwibW9kYWwtdGl0bGVcIikudGV4dChcIkxvZyBJblwiKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1ib2R5XCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVMb2dpbkZvcm0oKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBCb2R5XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEZvb3RlclxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1mb290ZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiYnRuIGJ0bi1zdWNjZXNzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChcIlN1Ym1pdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLmxvZ2luKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEZvb3RlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBTaWduIHVwIE1vZGFsXG4gICAgJChcImJvZHlcIikuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbCBmYWRlXCIpLmF0dHIoXCJyb2xlXCIsIFwiZGlhbG9nXCIpXG4gICAgICAgIC5hdHRyKFwiaWRcIiwgXCJzaWdudXBNb2RhbFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZGlhbG9nXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtaGVhZGVyXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIikuYWRkQ2xhc3MoXCJjbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZGF0YS1kaXNtaXNzXCIsIFwibW9kYWxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFyaWEtbGFiZWxcIiwgXCJDbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIiZ0aW1lcztcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8aDQ+XCIpLmFkZENsYXNzKFwibW9kYWwtdGl0bGVcIikudGV4dChcIlNpZ24gVXBcIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgSGVhZGVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEJvZHlcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtYm9keVwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2lnbnVwRm9ybSgpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEJvZHlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgRm9vdGVyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWZvb3RlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJidG4gYnRuLXN1Y2Nlc3NcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiU2lnbiBVcFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLnNpZ251cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBGb290ZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBOT1RFOiBUaGlzICoqaGFzKiogdG8gZ28gYXQgdGhlIHZlcnkgdG9wIG9mIHRoaXMgZnVuY3Rpb24sXG4gICAgLy8gIG90aGVyd2lzZSB3ZSBjYW4ndCB1c2UgdGhlIFBhcnNlIEpTIFNESy5cbiAgICBQYXJzZS5pbml0aWFsaXplKFxuICAgICAgICBcIkY0akhrT1pGUFFUR1BaMjNEMUNxYU54bWJMcW9BVUF4QnpjbmxXUW5cIixcbiAgICAgICAgXCJadDE3N2VPcENVSTEyZHZIYkJhSUFhZjhNWmRYcWtqc1pZbGFnUnVsXCJcbiAgICApO1xuXG4gICAgLy8gU2V0dXAgYW55IG1vZGFscyB0aGF0IHdlIG1pZ2h0IG5lZWQgb24gdGhlIHBhZ2VcbiAgICBzZXR1cE1vZGFscygpO1xuXG4gICAgLy8gRmV0Y2ggdGhlIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlciwgYW5kIHN0b3JlIHRoZW0gaW4gYSB2YXJpYWJsZVxuICAgIC8vICBjYWxsZWQgXCJjdXJyZW50VXNlclwiLlxuICAgIGxldCBjdXJyZW50VXNlciA9IFBhcnNlLlVzZXIuY3VycmVudCgpO1xuXG4gICAgLy8gSWYgdGhlIHVzZXIgaXNuJ3QgbG9nZ2VkIGluLCB3ZSdsbCBkaXNwbGF5IHNvbWUgYnV0dG9ucyB0aGF0IGFsbG93XG4gICAgLy8gIHRoZW0gdG8gc2lnbiB1cCBvciBsb2dpbi5cbiAgICAvLyBcbiAgICAvLyBJZiB0aGUgdXNlciBpcyBsb2dnZWQgaW4sIHRoZW4gd2UnbGwgZGlzcGxheSBhIHdlbGNvbWUgbWVzc2FnZS5cbiAgICAvLyBcbiAgICBpZiAoY3VycmVudFVzZXIgPT09IG51bGwpIHtcbiAgICAgICAgJChcImJvZHlcIilcbiAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiU2lnbiBpblwiKVxuICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2xvZ2luTW9kYWxcIikubW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiU2lnbiB1cFwiKVxuICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3NpZ251cE1vZGFsXCIpLm1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBxdWVyeSA9IChuZXcgUGFyc2UuUXVlcnkoUGFyc2UuVXNlcikpLmVxdWFsVG8oXCJvYmplY3RJZFwiLCBjdXJyZW50VXNlci5pZCkubGltaXQoMSk7XG4gICAgICAgIHF1ZXJ5LmZpbmQoe1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGxldCB1c2VybmFtZSA9IChkYXRhWzBdLmF0dHJpYnV0ZXMudXNlcm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgJChcIi5jb250YWluZXItZmx1aWRcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAkKFwiPGgzPlwiKS50ZXh0KFwiV2VsY29tZSwgXCIgKyB1c2VybmFtZSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJidG4gYnRuLWRhbmdlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoXCJMb2dvdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJzZS5Vc2VyLmxvZ091dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTsiLCJ2YXIgaGVscGVycyA9IHJlcXVpcmUoXCIuL2hlbHBlcnMvaGVscGVycy5qc1wiKTtcblxuJChmdW5jdGlvbigpIHtcbiAgICBoZWxwZXJzLnNldHVwUGFnZSgpO1xufSk7Il19
