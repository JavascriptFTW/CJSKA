(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

module.exports = {
    signup: function signup() {
        $("#signupError").addClass("hidden");

        var _user = $("#signupModal [name=username]").val();
        var _mail = $("#signupModal [name=email]").val();
        var _pass = $("#signupModal [name=password]").val();
        var _conf = $("#signupModal [name=confpass]").val();

        if (_pass !== _conf) {
            $("#signupError").removeClass("hidden");
        } else {
            var newUser = new Parse.User();

            newUser.set("username", _user);
            newUser.set("password", _conf);
            newUser.set("email", _mail);

            newUser.signUp(null, {
                success: function success(data) {
                    Parse.User.logIn(_user, _conf, {
                        success: function success() {
                            window.location.reload();
                        }
                    });
                },
                error: function error(data, _error) {
                    $("#signupError").removeClass("hidden");

                    console.error(_error);
                }
            });
        }
    },
    login: function login() {
        var _name = $("#loginModal [name=username]").val();
        var _pass = $("#loginModal [name=password]").val();

        console.log(_name, _pass);

        Parse.User.logIn(_name, _pass, {
            success: function success(data) {
                window.location.reload();
            },
            error: function error(data, _error2) {
                $("#loginFailed").removeClass("hidden");

                console.error(_error2);
            }
        });
    }
};

},{}],2:[function(require,module,exports){
"use strict";

module.exports = (function (deps) {
    var lostDeps = [];

    for (var depInd = 0; depInd < deps.length; depInd++) {
        if (!window.hasOwnProperty(deps[depInd])) {
            lostDeps.push(deps[depInd]);
        }
    }

    if (lostDeps.length > 0) {
        console.error("Unable to find all required dependencies! Exiting.");
        console.log("Dependencies not found:", lostDeps.join(","));

        return {};
    }

    return {
        setupPage: require("./setupPage.js")
    };
})(["jQuery", "Parse"]);

},{"./setupPage.js":3}],3:[function(require,module,exports){
"use strict";

var authentication = require("./authentication.js");

var createLoginForm = function createLoginForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "loginFailed").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control")));
};

var createSignupForm = function createSignupForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "signupError").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "email").text("Email Address")).append($("<input>").attr("type", "email").attr("name", "email").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "confpass").text("Confirm Password")).append($("<input>").attr("type", "password").attr("name", "confpass").addClass("form-control")));
};

var setupModals = function setupModals() {
    // Login Modal
    $("body").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "loginModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Log In"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createLoginForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-success").text("Submit").on("click", function () {
        authentication.login();
    })))
    // End Modal Footer
    ))));

    // Sign up Modal
    $("body").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "signupModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign Up"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createSignupForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-success").text("Sign Up").on("click", function () {
        authentication.signup();
    })))
    // End Modal Footer
    ))));
};

module.exports = function () {
    // NOTE: This **has** to go at the very top of this function,
    //  otherwise we can't use the Parse JS SDK.
    Parse.initialize("F4jHkOZFPQTGPZ23D1CqaNxmbLqoAUAxBzcnlWQn", "Zt177eOpCUI12dvHbBaIAaf8MZdXqkjsZYlagRul");

    // Setup any modals that we might need on the page
    setupModals();

    // Fetch the currently logged in user, and store them in a variable
    //  called "currentUser".
    var currentUser = Parse.User.current();

    // If the user isn't logged in, we'll display some buttons that allow
    //  them to sign up or login.
    //
    // If the user is logged in, then we'll display a welcome message.
    //
    if (currentUser === null) {
        $("body").append($("<button>").text("Sign in").on("click", function () {
            $("#loginModal").modal();
        })).append($("<button>").text("Sign up").on("click", function () {
            $("#signupModal").modal();
        }));
    } else {
        var query = new Parse.Query(Parse.User).equalTo("objectId", currentUser.id).limit(1);
        query.find({
            success: function success(data) {
                var username = data[0].attributes.username;

                $(".container-fluid").append($("<h3>").text("Welcome, " + username)).append($("<button>").addClass("btn btn-danger").text("Logout").on("click", function () {
                    Parse.User.logOut();
                    window.location.reload();
                }));
            }
        });
    }
};

},{"./authentication.js":1}],4:[function(require,module,exports){
"use strict";

var helpers = require("./helpers/helpers.js");

$(function () {
    helpers.setupPage();
});

},{"./helpers/helpers.js":2}]},{},[4])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9oZWxwZXJzL2F1dGhlbnRpY2F0aW9uLmpzIiwiL1VzZXJzL0JyeW5kZW4vc3BhcmsvY2pza2Evc3JjL3NjcmlwdHMvaGVscGVycy9oZWxwZXJzLmpzIiwiL1VzZXJzL0JyeW5kZW4vc3BhcmsvY2pza2Evc3JjL3NjcmlwdHMvaGVscGVycy9zZXR1cFBhZ2UuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2IsVUFBTSxFQUFFLGtCQUFXO0FBQ2YsU0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFckMsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDcEQsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDJCQUEyQixDQUFDLENBQUksR0FBRyxFQUFFLENBQUM7QUFDcEQsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDcEQsWUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7O0FBRXBELFlBQUksS0FBSyxLQUFLLEtBQUssRUFBRTtBQUNqQixhQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzNDLE1BQU07QUFDSCxnQkFBSSxPQUFPLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7O0FBRS9CLG1CQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxL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QVEsQ0FBQyxDQUNkLEVBQUUsQ0FBQyxPQUFPLEVBQUUsWUFBTTtBQUNmLHlCQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLDBCQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUM1QixDQUFDLENBQ1QsQ0FBQzthQUNMO1NBQ0osQ0FBQyxDQUFDO0tBQ047Q0FDSixDQUFDOzs7OztBQ3BRRixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQzs7QUFFOUMsQ0FBQyxDQUFDLFlBQVc7QUFDVCxXQUFPLENBQUMsU0FBUyxFQUFFLENBQUM7Q0FDdkIsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNpZ251cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIjc2lnbnVwRXJyb3JcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG5cbiAgICAgICAgbGV0IF91c2VyID0gJChcIiNzaWdudXBNb2RhbCBbbmFtZT11c2VybmFtZV1cIikudmFsKCk7XG4gICAgICAgIGxldCBfbWFpbCA9ICQoXCIjc2lnbnVwTW9kYWwgW25hbWU9ZW1haWxdXCIpICAgLnZhbCgpO1xuICAgICAgICBsZXQgX3Bhc3MgPSAkKFwiI3NpZ251cE1vZGFsIFtuYW1lPXBhc3N3b3JkXVwiKS52YWwoKTtcbiAgICAgICAgbGV0IF9jb25mID0gJChcIiNzaWdudXBNb2RhbCBbbmFtZT1jb25mcGFzc11cIikudmFsKCk7XG5cbiAgICAgICAgaWYgKF9wYXNzICE9PSBfY29uZikge1xuICAgICAgICAgICAgJChcIiNzaWdudXBFcnJvclwiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXdVc2VyID0gbmV3IFBhcnNlLlVzZXIoKTtcblxuICAgICAgICAgICAgbmV3VXNlci5zZXQoXCJ1c2VybmFtZVwiLCBfdXNlcik7XG4gICAgICAgICAgICBuZXdVc2VyLnNldChcInBhc3N3b3JkXCIsIF9jb25mKTtcbiAgICAgICAgICAgIG5ld1VzZXIuc2V0KFwiZW1haWxcIiAgICwgX21haWwpO1xuXG4gICAgICAgICAgICBuZXdVc2VyLnNpZ25VcChudWxsLCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZS5Vc2VyLmxvZ0luKF91c2VyLCBfY29uZiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhLCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3NpZ251cEVycm9yXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBfbmFtZSA9ICQoXCIjbG9naW5Nb2RhbCBbbmFtZT11c2VybmFtZV1cIikudmFsKCk7XG4gICAgICAgIGxldCBfcGFzcyA9ICQoXCIjbG9naW5Nb2RhbCBbbmFtZT1wYXNzd29yZF1cIikudmFsKCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coX25hbWUsIF9wYXNzKTtcblxuICAgICAgICBQYXJzZS5Vc2VyLmxvZ0luKF9uYW1lLCBfcGFzcywge1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAkKFwiI2xvZ2luRmFpbGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59OyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKGRlcHMpIHtcbiAgICB2YXIgbG9zdERlcHMgPSBbXTtcblxuICAgIGZvciAobGV0IGRlcEluZCA9IDA7IGRlcEluZCA8IGRlcHMubGVuZ3RoOyBkZXBJbmQrKykge1xuICAgICAgICBpZiAoIXdpbmRvdy5oYXNPd25Qcm9wZXJ0eShkZXBzW2RlcEluZF0pKSB7XG4gICAgICAgICAgICBsb3N0RGVwcy5wdXNoKGRlcHNbZGVwSW5kXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobG9zdERlcHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGZpbmQgYWxsIHJlcXVpcmVkIGRlcGVuZGVuY2llcyEgRXhpdGluZy5cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGVwZW5kZW5jaWVzIG5vdCBmb3VuZDpcIiwgbG9zdERlcHMuam9pbihcIixcIikpO1xuXG4gICAgICAgIHJldHVybiB7IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0dXBQYWdlOiByZXF1aXJlKFwiLi9zZXR1cFBhZ2UuanNcIilcbiAgICB9O1xufSkoW1wialF1ZXJ5XCIsIFwiUGFyc2VcIl0pOyIsInZhciBhdXRoZW50aWNhdGlvbiA9IHJlcXVpcmUoXCIuL2F1dGhlbnRpY2F0aW9uLmpzXCIpO1xuXG52YXIgY3JlYXRlTG9naW5Gb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoXCI8ZGl2PlwiKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImFsZXJ0IGFsZXJ0LWRhbmdlciBoaWRkZW5cIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJsb2dpbkZhaWxlZFwiKVxuICAgICAgICAgICAgLnRleHQoXCJBbiBlcnJvciBvY2N1cnJlZC4gVHJ5IGFnYWluIGluIGEgZmV3IG1pbnV0ZXMuXCIpXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJ1c2VybmFtZVwiKS50ZXh0KFwiVXNlcm5hbWVcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwidXNlcm5hbWVcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwicGFzc3dvcmRcIikudGV4dChcIlBhc3N3b3JkXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKTtcbn07XG5cbnZhciBjcmVhdGVTaWdudXBGb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoXCI8ZGl2PlwiKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImFsZXJ0IGFsZXJ0LWRhbmdlciBoaWRkZW5cIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJzaWdudXBFcnJvclwiKVxuICAgICAgICAgICAgLnRleHQoXCJBbiBlcnJvciBvY2N1cnJlZC4gVHJ5IGFnYWluIGluIGEgZmV3IG1pbnV0ZXMuXCIpXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJ1c2VybmFtZVwiKS50ZXh0KFwiVXNlcm5hbWVcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwidXNlcm5hbWVcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwiZW1haWxcIikudGV4dChcIkVtYWlsIEFkZHJlc3NcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcImVtYWlsXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcInBhc3N3b3JkXCIpLnRleHQoXCJQYXNzd29yZFwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwiY29uZnBhc3NcIikudGV4dChcIkNvbmZpcm0gUGFzc3dvcmRcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcImNvbmZwYXNzXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApO1xufTtcblxudmFyIHNldHVwTW9kYWxzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gTG9naW4gTW9kYWxcbiAgICAkKFwiYm9keVwiKS5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsIGZhZGVcIikuYXR0cihcInJvbGVcIiwgXCJkaWFsb2dcIilcbiAgICAgICAgLmF0dHIoXCJpZFwiLCBcImxvZ2luTW9kYWxcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWRpYWxvZ1wiKVxuICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1jb250ZW50XCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgSGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWhlYWRlclwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpLmFkZENsYXNzKFwiY2xvc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImRhdGEtZGlzbWlzc1wiLCBcIm1vZGFsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJhcmlhLWxhYmVsXCIsIFwiQ2xvc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPHNwYW4+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmh0bWwoXCImdGltZXM7XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGg0PlwiKS5hZGRDbGFzcyhcIm1vZGFsLXRpdGxlXCIpLnRleHQoXCJMb2cgSW5cIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgSGVhZGVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEJvZHlcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtYm9keVwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlTG9naW5Gb3JtKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBGb290ZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZm9vdGVyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImJ0biBidG4tc3VjY2Vzc1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoXCJTdWJtaXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5sb2dpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBGb290ZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICApO1xuXG4gICAgLy8gU2lnbiB1cCBNb2RhbFxuICAgICQoXCJib2R5XCIpLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwgZmFkZVwiKS5hdHRyKFwicm9sZVwiLCBcImRpYWxvZ1wiKVxuICAgICAgICAuYXR0cihcImlkXCIsIFwic2lnbnVwTW9kYWxcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWRpYWxvZ1wiKVxuICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1jb250ZW50XCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgSGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWhlYWRlclwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpLmFkZENsYXNzKFwiY2xvc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImRhdGEtZGlzbWlzc1wiLCBcIm1vZGFsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJhcmlhLWxhYmVsXCIsIFwiQ2xvc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPHNwYW4+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmh0bWwoXCImdGltZXM7XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGg0PlwiKS5hZGRDbGFzcyhcIm1vZGFsLXRpdGxlXCIpLnRleHQoXCJTaWduIFVwXCIpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEhlYWRlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBCb2R5XG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWJvZHlcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNpZ251cEZvcm0oKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBCb2R5XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEZvb3RlclxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1mb290ZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiYnRuIGJ0bi1zdWNjZXNzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChcIlNpZ24gVXBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbi5zaWdudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgRm9vdGVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gTk9URTogVGhpcyAqKmhhcyoqIHRvIGdvIGF0IHRoZSB2ZXJ5IHRvcCBvZiB0aGlzIGZ1bmN0aW9uLFxuICAgIC8vICBvdGhlcndpc2Ugd2UgY2FuJ3QgdXNlIHRoZSBQYXJzZSBKUyBTREsuXG4gICAgUGFyc2UuaW5pdGlhbGl6ZShcbiAgICAgICAgXCJGNGpIa09aRlBRVEdQWjIzRDFDcWFOeG1iTHFvQVVBeEJ6Y25sV1FuXCIsXG4gICAgICAgIFwiWnQxNzdlT3BDVUkxMmR2SGJCYUlBYWY4TVpkWHFranNaWWxhZ1J1bFwiXG4gICAgKTtcblxuICAgIC8vIFNldHVwIGFueSBtb2RhbHMgdGhhdCB3ZSBtaWdodCBuZWVkIG9uIHRoZSBwYWdlXG4gICAgc2V0dXBNb2RhbHMoKTtcblxuICAgIC8vIEZldGNoIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIsIGFuZCBzdG9yZSB0aGVtIGluIGEgdmFyaWFibGVcbiAgICAvLyAgY2FsbGVkIFwiY3VycmVudFVzZXJcIi5cbiAgICBsZXQgY3VycmVudFVzZXIgPSBQYXJzZS5Vc2VyLmN1cnJlbnQoKTtcblxuICAgIC8vIElmIHRoZSB1c2VyIGlzbid0IGxvZ2dlZCBpbiwgd2UnbGwgZGlzcGxheSBzb21lIGJ1dHRvbnMgdGhhdCBhbGxvd1xuICAgIC8vICB0aGVtIHRvIHNpZ24gdXAgb3IgbG9naW4uXG4gICAgLy8gXG4gICAgLy8gSWYgdGhlIHVzZXIgaXMgbG9nZ2VkIGluLCB0aGVuIHdlJ2xsIGRpc3BsYXkgYSB3ZWxjb21lIG1lc3NhZ2UuXG4gICAgLy8gXG4gICAgaWYgKGN1cnJlbnRVc2VyID09PSBudWxsKSB7XG4gICAgICAgICQoXCJib2R5XCIpXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKVxuICAgICAgICAgICAgICAgICAgICAudGV4dChcIlNpZ24gaW5cIilcbiAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNsb2dpbk1vZGFsXCIpLm1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKVxuICAgICAgICAgICAgICAgICAgICAudGV4dChcIlNpZ24gdXBcIilcbiAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzaWdudXBNb2RhbFwiKS5tb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcXVlcnkgPSAobmV3IFBhcnNlLlF1ZXJ5KFBhcnNlLlVzZXIpKS5lcXVhbFRvKFwib2JqZWN0SWRcIiwgY3VycmVudFVzZXIuaWQpLmxpbWl0KDEpO1xuICAgICAgICBxdWVyeS5maW5kKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSAoZGF0YVswXS5hdHRyaWJ1dGVzLnVzZXJuYW1lKTtcblxuICAgICAgICAgICAgICAgICQoXCIuY29udGFpbmVyLWZsdWlkXCIpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgJChcIjxoMz5cIikudGV4dChcIldlbGNvbWUsIFwiICsgdXNlcm5hbWUpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiYnRuIGJ0bi1kYW5nZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiTG9nb3V0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyc2UuVXNlci5sb2dPdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07IiwidmFyIGhlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzL2hlbHBlcnMuanNcIik7XG5cbiQoZnVuY3Rpb24oKSB7XG4gICAgaGVscGVycy5zZXR1cFBhZ2UoKTtcbn0pOyJdfQ==
