(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var authentication = require("../helpers/authentication.js");

var createLoginForm = function createLoginForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "loginFailed").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control")));
};

var createSignupForm = function createSignupForm() {
    return $("<div>").append($("<div>").addClass("alert alert-danger hidden").attr("id", "signupError").text("An error occurred. Try again in a few minutes.")).append($("<div>").addClass("form-group").append($("<label>").attr("for", "username").text("Username")).append($("<input>").attr("type", "text").attr("name", "username").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "email").text("Email Address")).append($("<input>").attr("type", "email").attr("name", "email").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "password").text("Password")).append($("<input>").attr("type", "password").attr("name", "password").addClass("form-control"))).append($("<div>").addClass("form-group").append($("<label>").attr("for", "confpass").text("Confirm Password")).append($("<input>").attr("type", "password").attr("name", "confpass").addClass("form-control")));
};

module.exports = function () {
    // Login Modal
    $("[data-area=main]").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "loginModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign In"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createLoginForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-primary").text("Submit").on("click", function () {
        authentication.login();
    })))
    // End Modal Footer
    ))));

    // Sign up Modal
    $("[data-area=main]").append($("<div>").addClass("modal fade").attr("role", "dialog").attr("id", "signupModal").append($("<div>").addClass("modal-dialog").append($("<div>").addClass("modal-content").append(
    // Start Modal Header
    $("<div>").addClass("modal-header").append($("<button>").addClass("close").attr("data-dismiss", "modal").attr("aria-label", "Close").append($("<span>").attr("aria-hidden", "true").html("&times;"))).append($("<h4>").addClass("modal-title").text("Sign Up"))
    // End Modal Header
    ).append(
    // Start Modal Body
    $("<div>").addClass("modal-body").append(createSignupForm())
    // End Modal Body
    ).append(
    // Start Modal Footer
    $("<div>").addClass("modal-footer").append($("<div>").addClass("form-group").append($("<button>").addClass("btn btn-primary").text("Sign Up").on("click", function () {
        authentication.signup();
    })))
    // End Modal Footer
    ))));
};

},{"../helpers/authentication.js":4}],2:[function(require,module,exports){
"use strict";

module.exports = {
    authModals: require("./authModals.js"),
    footer: require("./footer.js")
};

},{"./authModals.js":1,"./footer.js":3}],3:[function(require,module,exports){
"use strict";

module.exports = function () {
    $("body").append($("<footer>").append($("<div>").addClass("container text-center").append($("<p>").addClass("text-muted").text("Made by ").append($("<a>").attr("href", "https://github.com/sparkstudios/CJSKA/graphs/contributors").text("all these great folks")))));
};

},{}],4:[function(require,module,exports){
"use strict";

module.exports = {
    signup: function signup() {
        $("#signupError").addClass("hidden");

        var _user = $("#signupModal [name=username]").val();
        var _mail = $("#signupModal [name=email]").val();
        var _pass = $("#signupModal [name=password]").val();
        var _conf = $("#signupModal [name=confpass]").val();

        if (_pass !== _conf) {
            $("#signupError").removeClass("hidden");
        } else {
            var newUser = new Parse.User();

            newUser.set("username", _user);
            newUser.set("password", _conf);
            newUser.set("email", _mail);

            newUser.signUp(null, {
                success: function success() {
                    Parse.User.logIn(_user, _conf, {
                        success: function success() {
                            window.location.reload();
                        }
                    });
                },
                error: function error(data, _error) {
                    $("#signupError").removeClass("hidden");

                    console.error(_error);
                }
            });
        }
    },
    login: function login() {
        var _name = $("#loginModal [name=username]").val();
        var _pass = $("#loginModal [name=password]").val();

        Parse.User.logIn(_name, _pass, {
            success: function success() {
                window.location.reload();
            },
            error: function error(data, _error2) {
                $("#loginFailed").removeClass("hidden");

                console.error(_error2);
            }
        });
    }
};

},{}],5:[function(require,module,exports){
"use strict";

var components = require("../components/components.js");

module.exports = function () {
    // NOTE: This **has** to go at the very top of this function,
    //  otherwise we can't use the Parse JS SDK.
    Parse.initialize("F4jHkOZFPQTGPZ23D1CqaNxmbLqoAUAxBzcnlWQn", "Zt177eOpCUI12dvHbBaIAaf8MZdXqkjsZYlagRul");

    components.authModals();
    components.footer();
};

},{"../components/components.js":2}]},{},[5])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2F1dGhNb2RhbHMuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2NvbXBvbmVudHMuanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2Zvb3Rlci5qcyIsIi9Vc2Vycy9CcnluZGVuL3NwYXJrL2Nqc2thL3NyYy9zY3JpcHRzL2hlbHBlcnMvYXV0aGVudGljYXRpb24uanMiLCIvVXNlcnMvQnJ5bmRlbi9zcGFyay9janNrYS9zcmMvc2NyaXB0cy9oZWxwZXJzL3NldHVwUGFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUM7O0FBRTdELElBQUksZUFBZSxHQUFHLFNBQWxCLGVBQWUsR0FBYztBQUM3QixXQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FDaEIsTUFBTSxDQUNILENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsMkJBQTJCLENBQUMsQ0FDM0MsSUFBSSxDQUFDLElBQUksRUFBRSxhQUFhLENBQUMsQ0FDekIsSUFBSSxDQUFDLGdEQUFnRCxDQUFDLENBQzlELENBQ0EsTUFBTSxDQUNILENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQ2hDLE1BQU0sQ0FDSCxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQ3hELENBQ0EsTUFBTSxDQUNILENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FDUCxJQUFJLENB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QUFDO0NBQ3ZCLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGF1dGhlbnRpY2F0aW9uID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvYXV0aGVudGljYXRpb24uanNcIik7XG5cbnZhciBjcmVhdGVMb2dpbkZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJChcIjxkaXY+XCIpXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGhpZGRlblwiKVxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcImxvZ2luRmFpbGVkXCIpXG4gICAgICAgICAgICAudGV4dChcIkFuIGVycm9yIG9jY3VycmVkLiBUcnkgYWdhaW4gaW4gYSBmZXcgbWludXRlcy5cIilcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcInVzZXJuYW1lXCIpLnRleHQoXCJVc2VybmFtZVwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJ1c2VybmFtZVwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJwYXNzd29yZFwiKS50ZXh0KFwiUGFzc3dvcmRcIilcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxpbnB1dD5cIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiZm9ybS1jb250cm9sXCIpXG4gICAgICAgIClcbiAgICApO1xufTtcblxudmFyIGNyZWF0ZVNpZ251cEZvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJChcIjxkaXY+XCIpXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGhpZGRlblwiKVxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcInNpZ251cEVycm9yXCIpXG4gICAgICAgICAgICAudGV4dChcIkFuIGVycm9yIG9jY3VycmVkLiBUcnkgYWdhaW4gaW4gYSBmZXcgbWludXRlcy5cIilcbiAgICApXG4gICAgLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxsYWJlbD5cIikuYXR0cihcImZvclwiLCBcInVzZXJuYW1lXCIpLnRleHQoXCJVc2VybmFtZVwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJ1c2VybmFtZVwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJlbWFpbFwiKS50ZXh0KFwiRW1haWwgQWRkcmVzc1wiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwiZW1haWxcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgIClcbiAgICAuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGxhYmVsPlwiKS5hdHRyKFwiZm9yXCIsIFwicGFzc3dvcmRcIikudGV4dChcIlBhc3N3b3JkXCIpXG4gICAgICAgIClcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8aW5wdXQ+XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0eXBlXCIsIFwicGFzc3dvcmRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm5hbWVcIiwgXCJwYXNzd29yZFwiKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhcImZvcm0tY29udHJvbFwiKVxuICAgICAgICApXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImZvcm0tZ3JvdXBcIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8bGFiZWw+XCIpLmF0dHIoXCJmb3JcIiwgXCJjb25mcGFzc1wiKS50ZXh0KFwiQ29uZmlybSBQYXNzd29yZFwiKVxuICAgICAgICApXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGlucHV0PlwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHlwZVwiLCBcInBhc3N3b3JkXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsIFwiY29uZnBhc3NcIilcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJmb3JtLWNvbnRyb2xcIilcbiAgICAgICAgKVxuICAgICk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIExvZ2luIE1vZGFsXG4gICAgJChcIltkYXRhLWFyZWE9bWFpbl1cIikuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbCBmYWRlXCIpLmF0dHIoXCJyb2xlXCIsIFwiZGlhbG9nXCIpXG4gICAgICAgIC5hdHRyKFwiaWRcIiwgXCJsb2dpbk1vZGFsXCIpXG4gICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1kaWFsb2dcIilcbiAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtY29udGVudFwiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEhlYWRlclxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1oZWFkZXJcIilcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKS5hZGRDbGFzcyhcImNsb3NlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkYXRhLWRpc21pc3NcIiwgXCJtb2RhbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYXJpYS1sYWJlbFwiLCBcIkNsb3NlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxzcGFuPlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKFwiJnRpbWVzO1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxoND5cIikuYWRkQ2xhc3MoXCJtb2RhbC10aXRsZVwiKS50ZXh0KFwiU2lnbiBJblwiKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgQm9keVxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1ib2R5XCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVMb2dpbkZvcm0oKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBCb2R5XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEZvb3RlclxuICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbC1mb290ZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwiZm9ybS1ncm91cFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8YnV0dG9uPlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKFwiYnRuIGJ0bi1wcmltYXJ5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChcIlN1Ym1pdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLmxvZ2luKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEZvb3RlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG5cbiAgICAvLyBTaWduIHVwIE1vZGFsXG4gICAgJChcIltkYXRhLWFyZWE9bWFpbl1cIikuYXBwZW5kKFxuICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJtb2RhbCBmYWRlXCIpLmF0dHIoXCJyb2xlXCIsIFwiZGlhbG9nXCIpXG4gICAgICAgIC5hdHRyKFwiaWRcIiwgXCJzaWdudXBNb2RhbFwiKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtZGlhbG9nXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBNb2RhbCBIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtaGVhZGVyXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIikuYWRkQ2xhc3MoXCJjbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZGF0YS1kaXNtaXNzXCIsIFwibW9kYWxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImFyaWEtbGFiZWxcIiwgXCJDbG9zZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIiZ0aW1lcztcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCI8aDQ+XCIpLmFkZENsYXNzKFwibW9kYWwtdGl0bGVcIikudGV4dChcIlNpZ24gVXBcIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgTW9kYWwgSGVhZGVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IE1vZGFsIEJvZHlcbiAgICAgICAgICAgICAgICAgICAgJChcIjxkaXY+XCIpLmFkZENsYXNzKFwibW9kYWwtYm9keVwiKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2lnbnVwRm9ybSgpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5kIE1vZGFsIEJvZHlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgTW9kYWwgRm9vdGVyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcIm1vZGFsLWZvb3RlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJmb3JtLWdyb3VwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJidG4gYnRuLXByaW1hcnlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiU2lnbiBVcFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uLnNpZ251cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZCBNb2RhbCBGb290ZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICApO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBhdXRoTW9kYWxzOiByZXF1aXJlKFwiLi9hdXRoTW9kYWxzLmpzXCIpLFxuICAgIGZvb3RlcjogcmVxdWlyZShcIi4vZm9vdGVyLmpzXCIpXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgJChcImJvZHlcIikuYXBwZW5kKFxuICAgICAgICAkKFwiPGZvb3Rlcj5cIilcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImNvbnRhaW5lciB0ZXh0LWNlbnRlclwiKVxuICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKFwiPHA+XCIpLmFkZENsYXNzKFwidGV4dC1tdXRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAudGV4dChcIk1hZGUgYnkgXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiPGE+XCIpLmF0dHIoXCJocmVmXCIsIFwiaHR0cHM6Ly9naXRodWIuY29tL3NwYXJrc3R1ZGlvcy9DSlNLQS9ncmFwaHMvY29udHJpYnV0b3JzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoXCJhbGwgdGhlc2UgZ3JlYXQgZm9sa3NcIilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2lnbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIiNzaWdudXBFcnJvclwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcblxuICAgICAgICBsZXQgX3VzZXIgPSAkKFwiI3NpZ251cE1vZGFsIFtuYW1lPXVzZXJuYW1lXVwiKS52YWwoKTtcbiAgICAgICAgbGV0IF9tYWlsID0gJChcIiNzaWdudXBNb2RhbCBbbmFtZT1lbWFpbF1cIikgICAudmFsKCk7XG4gICAgICAgIGxldCBfcGFzcyA9ICQoXCIjc2lnbnVwTW9kYWwgW25hbWU9cGFzc3dvcmRdXCIpLnZhbCgpO1xuICAgICAgICBsZXQgX2NvbmYgPSAkKFwiI3NpZ251cE1vZGFsIFtuYW1lPWNvbmZwYXNzXVwiKS52YWwoKTtcblxuICAgICAgICBpZiAoX3Bhc3MgIT09IF9jb25mKSB7XG4gICAgICAgICAgICAkKFwiI3NpZ251cEVycm9yXCIpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5ld1VzZXIgPSBuZXcgUGFyc2UuVXNlcigpO1xuXG4gICAgICAgICAgICBuZXdVc2VyLnNldChcInVzZXJuYW1lXCIsIF91c2VyKTtcbiAgICAgICAgICAgIG5ld1VzZXIuc2V0KFwicGFzc3dvcmRcIiwgX2NvbmYpO1xuICAgICAgICAgICAgbmV3VXNlci5zZXQoXCJlbWFpbFwiICAgLCBfbWFpbCk7XG5cbiAgICAgICAgICAgIG5ld1VzZXIuc2lnblVwKG51bGwsIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgUGFyc2UuVXNlci5sb2dJbihfdXNlciwgX2NvbmYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzaWdudXBFcnJvclwiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9naW46IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgX25hbWUgPSAkKFwiI2xvZ2luTW9kYWwgW25hbWU9dXNlcm5hbWVdXCIpLnZhbCgpO1xuICAgICAgICBsZXQgX3Bhc3MgPSAkKFwiI2xvZ2luTW9kYWwgW25hbWU9cGFzc3dvcmRdXCIpLnZhbCgpO1xuXG4gICAgICAgIFBhcnNlLlVzZXIubG9nSW4oX25hbWUsIF9wYXNzLCB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgJChcIiNsb2dpbkZhaWxlZFwiKVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTsiLCJ2YXIgY29tcG9uZW50cyA9IHJlcXVpcmUoXCIuLi9jb21wb25lbnRzL2NvbXBvbmVudHMuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gTk9URTogVGhpcyAqKmhhcyoqIHRvIGdvIGF0IHRoZSB2ZXJ5IHRvcCBvZiB0aGlzIGZ1bmN0aW9uLFxuICAgIC8vICBvdGhlcndpc2Ugd2UgY2FuJ3QgdXNlIHRoZSBQYXJzZSBKUyBTREsuXG4gICAgUGFyc2UuaW5pdGlhbGl6ZShcbiAgICAgICAgXCJGNGpIa09aRlBRVEdQWjIzRDFDcWFOeG1iTHFvQVVBeEJ6Y25sV1FuXCIsXG4gICAgICAgIFwiWnQxNzdlT3BDVUkxMmR2SGJCYUlBYWY4TVpkWHFranNaWWxhZ1J1bFwiXG4gICAgKTtcblxuICAgIGNvbXBvbmVudHMuYXV0aE1vZGFscygpO1xuICAgIGNvbXBvbmVudHMuZm9vdGVyKCk7XG59OyJdfQ==
